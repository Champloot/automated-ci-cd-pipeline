# Реализация CI/CD-конвейера для автоматизации развертывания веб-сервера на базе Vagrant, Ansible, Jenkins и GitHub


## Описание
Проект демонстрирует создание автоматизированного CI/CD конвейера для веб-сервера Nginx. При изменении файла `index.html` в GitHub, Jenkins запускает Ansible-плейбук для обновления сервера. Инфраструктура развертывается с помощью Vagrant и включает три виртуальные машины:
- **Jenkins-сервер** (CI/CD оркестрация).
- **Ansible-контроллер** (управление конфигурацией).
- **Веб-сервер Nginx** (хостинг статического контента).

## Цели
- Автоматизация развертывания и обновления веб-сервера.
- Интеграция инструментов DevOps: Vagrant, Ansible, Jenkins, GitHub.
- Минимизация ручного вмешательства в процесс доставки кода.

## Технологии и инструменты
- **Виртуализация**: Vagrant, VirtualBox.
- **CI/CD**: Jenkins.
- **Управление конфигурацией**: Ansible.
- **Веб-сервер**: Nginx.
- **Контроль версий**: GitHub.

## Требования
- Установленные [Vagrant](https://www.vagrantup.com/) и [VirtualBox](https://www.virtualbox.org/).
- Учетная запись GitHub.
- Базовые знания работы с терминалом.

## Установка и настройка

### 1. Клонирование репозитория
```bash
git clone https://github.com/Champloot/devops_practice.git
cd devops_practice
```

### 2. Запуск виртуальных машин
```bash
vagrant up
```
После выполнения команды будут созданы три виртуальные машины:
- Jenkins: `192.168.56.10`.
- Ansible: `192.168.56.11`.
- Nginx: `192.168.56.12`.

### 3. Настройка Jenkins
1. Откройте веб-интерфейс Jenkins: `http://192.168.56.10:8080`.
2. Получите пароль из файла на VM_1:
   ```bash
   vagrant ssh jenkins
   sudo cat /var/lib/jenkins/secrets/initialAdminPassword
   ```
3. Установите рекомендованные плагины и создайте администратора.
4. Настройте Pipeline:
   - **Тип задачи**: Pipeline.
   - **SCM**: Укажите URL репозитория GitHub.
   - **Script Path**: `Jenkinsfile`.

### 4. Настройка Ansible
- Инвентарь (`inventory.ini`) и плейбуки (`deploy.yml`) уже настроены в репозитории.
- Проверьте работу Ansible вручную:
  ```bash
  ansible-playbook -i ansible/inventory.ini ansible/deploy.yml
  ```

## Использование
1. Внесите изменения в файл `index.html` в репозитории GitHub.
2. Запустите Pipeline в Jenkins (вручную или через веб-хук).
3. Проверьте обновленную страницу по адресу: `http://192.168.56.12`.

## Архитектура
1. **GitHub**: Хранилище кода и триггер изменений.
2. **Jenkins**: Оркестрация CI/CD пайплайна.
3. **Ansible**: Настройка веб-сервера через плейбуки.
4. **Nginx**: Обслуживание статического контента.

## Проблемы и ограничения
- Проект развернут локально. Для продакшена рекомендуется использовать облачные решения (AWS, GCP).
- Веб-хуки между GitHub и Jenkins требуют дополнительной настройки для автоматизации.

## Лицензия
Проект распространяется под лицензией [MIT](LICENSE).

## Автор
Artem Verchenko  
GitHub: [Champloot](https://github.com/Champloot)
```
